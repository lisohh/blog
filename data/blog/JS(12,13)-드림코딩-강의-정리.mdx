---
title: 'ðŸŽ‰ JS(12,13)-ë“œë¦¼ì½”ë”© ê°•ì˜ ì •ë¦¬'
thumbSrc: '/static/images/dcjs.webp'
date: '2022-03-16'
tags: ['JS']
draft: false
summary: 'ë³¸ í¬ìŠ¤íŠ¸ëŠ” ìœ íˆ¬ë¸Œ ë“œë¦¼ì½”ë”© ì•¨ë¦¬ JS ê¸°ì´ˆ ê°•ì˜ë¥¼ ìˆ˜ê°•í•œ í›„ ì“´ ê¸€ìž…ë‹ˆë‹¤.'
images: ['/static/images/dcjs.webp']
---

# ðŸ“Œ ëª©ì°¨

![Welcome](/static/images/dcjs.webp)

> âœ¨ [ìžë°”ìŠ¤í¬ë¦½íŠ¸ ê¸°ì´ˆ ê°•ì˜ (ES5+): ê°™ì´ ë…¸íŠ¸ë¥¼ ìž‘ì„±í•˜ë©° ë°°ì›Œìš” ðŸ“’](https://www.youtube.com/playlist?list=PLv2d7VI9OotTVOL4QmPfvJWPJvkmv6h-2)

ðŸ’ðŸ»

1.  ìžë°”ìŠ¤í¬ë¦½íŠ¸ì˜ ì—­ì‚¬ì™€ ëª©ì  ë° ë™í–¥
2.  **ìžë°”ìŠ¤í¬ë¦½íŠ¸ ë™ìž‘ì›ë¦¬**

---

## Promise (12ê°•)

í”„ë¡œë¯¸ìŠ¤ëŠ” ë¹„ë™ê¸°ë¥¼ ê°„ë‹¨í•˜ê²Œ ì²˜ë¦¬í•  ìˆ˜ ìžˆë„ë¡ ìžë°”ìŠ¤í¬ë¦½íŠ¸ê°€ ì œê³µí•˜ëŠ” ì˜¤ë¸Œì íŠ¸ì´ë‹¤.

- `state`ë¥¼ ì´í•´í•˜ê³ 
- 'producer`(ì •ë³´ ì œê³µìž)ì™€ `consumer`(ì •ë³´ ì‚¬ìš©ìž)ë¡œ ë‚˜ëˆ„ì–´ì§„ë‹¤.

### 1. Producer

`promise`í•¨ìˆ˜ëŠ” `resolve`,`reject`í•¨ìˆ˜ë¥¼ ì½œë°±í•¨ìˆ˜ë¡œ ë°›ëŠ”ë‹¤.

```JS
// when new Promise is created, the executor runs automatically.
// í”„ë¡œë¯¸ìŠ¤ë¥¼ ë§Œë“œëŠ” ìˆœê°„ ë„¤íŠ¸ì›Œí¬ í†µì‹ ì´ ì‹œìž‘ë˜ê³  ì½œë°±í•¨ìˆ˜ê°€ ë°”ë¡œ ì‹¤í–‰ëœë‹¤.
const promise = new Promise((resolve, reject) => {
  // doing some heavy work (network, read files)
  console.log('doing something...');
  setTimeout(() => {
    resolve('ellie');
    // reject(new Error('no network'));
  }, 2000);
});

```

### 2. Consumers: then, catch, finally

```JS
promise //
  .then(value => {
    console.log(value);
  })
  //ì—ëŸ¬ê°€ ë°œìƒí–ˆì„ ë•Œ í˜¸ì¶œ
  .catch(error => {
    console.log(error);
  })
  //ì„±ê³µí•˜ë“  ì‹¤íŒ¨í•˜ë“  ë§ˆì§€ë§‰ì— ìˆ˜í–‰í•˜ëŠ” í•¨ìˆ˜
  .finally(() => {
    console.log('finally');
  });
```

### 3. Promise chaining

```js
const fetchNumber = new Promise((resolve, reject) => {
  setTimeout(() => resolve(1), 1000)
})

fetchNumber
  .then((num) => num * 2)
  .then((num) => num * 3)
  .then((num) => {
    return new Promise((resolve, reject) => {
      setTimeout(() => resolve(num - 1), 1000)
    })
  })
  .then((num) => console.log(num))
```

### 4. Error Handling

```js
const getHen = () =>
  new Promise((resolve, reject) => {
    setTimeout(() => resolve('ðŸ“'), 1000)
  })
const getEgg = (hen) =>
  new Promise((resolve, reject) => {
    setTimeout(() => reject(new Error(`error! ${hen} => ðŸ¥š`)), 1000)
  })
const cook = (egg) =>
  new Promise((resolve, reject) => {
    setTimeout(() => resolve(`${egg} => ðŸ³`), 1000)
  })

getHen() //
  .then(getEgg)
  .catch((error) => {
    return 'bread'
  })
  //eggë¥¼ ë°›ì•„ì˜¤ì§€ ëª»í•´ ì—ëŸ¬ê°€ ë°œìƒí•œ ê²½ìš°
  //breadë¡œ ê°’ì„ êµì²´í•´ ë‚˜ë¨¸ì§€ê°€ ìž˜ ìž‘ë™í•˜ë„ë¡ ë§Œë“¦
  .then(cook)
  .then(console.log)
  .catch(console.log)
```

---

## Async & Await (13ê°•)

### 1. async

```js
async function fetchUser() {
  // do network reqeust in 10 secs....
  return 'ellie'
}

const user = fetchUser()
user.then(console.log)
console.log(user)
```

### 2. await âœ¨

```js
function delay(ms) {
  return new Promise((resolve) => setTimeout(resolve, ms))
}

async function getApple() {
  await delay(2000)
  return 'ðŸŽ'
}

async function getBanana() {
  await delay(1000)
  return 'ðŸŒ'
}

async function pickFruits() {
  const applePromise = getApple()
  const bananaPromise = getBanana()
  const apple = await applePromise
  const banana = await bananaPromise
  return `${apple} + ${banana}`
}

pickFruits().then(console.log)
```

### 3. useful APIs âœ¨

```js
function pickAllFruits() {
  return Promise.all([getApple(), getBanana()]).then((fruits) => fruits.join(' + '))
}
pickAllFruits().then(console.log)

function pickOnlyOne() {
  return Promise.race([getApple(), getBanana()])
}

pickOnlyOne().then(console.log)
```
