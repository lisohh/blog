---
title: 'ğŸ‰ ì»¬ëŸ¬ë¦¬ìŠ¤íŠ¸ í”„ë¡œì íŠ¸ #11 Pallete table - resizable columns '
thumbSrc: '/static/images/colorlist.png'
date: '2022-09-06'
tags: ['project', 'colorlist', 'resizable columns']
draft: false
summary: 'ë³¸ í¬ìŠ¤íŠ¸ëŠ” ì»¬ëŸ¬ë¦¬ìŠ¤íŠ¸ ì—°ìŠµì„ ìœ„í•œ ì‚¬ì´íŠ¸ë¥¼ ë§Œë“¤ë©° ì‘ì„±í•œ ê¸€ì…ë‹ˆë‹¤.'
images: ['/static/images/colorlist.png']
---

# ğŸ“Œ ëª©ì°¨

![Welcome](/static/images/colorlist.png)

> âœ¨ [ì»¬ëŸ¬ë¦¬ìŠ¤íŠ¸ ì‚¬ì´íŠ¸(ì•„ì§ ì—†ìŒ](https://www.)

ğŸ’ğŸ»

1. ì„ íƒì¹¸ í…Œì´ë¸” width ì¡°ì ˆí•˜ê²Œ í•´ë³´ê¸°
   1-1. ë¼ì´ë¸ŒëŸ¬ë¦¬ë¥¼ ì“°ëŠ” ë°©ë²•
   1-2. react table - column resizing
   1-3. react table ì„¤ì¹˜
   1-4. ë°ëª¨ ì½”ë“œ ì ìš©
   1-5. palleteì— ë§ê²Œ ì ìš©

---

# ì„ íƒì¹¸ í…Œì´ë¸” width ì¡°ì ˆí•˜ê²Œ í•´ë³´ê¸°

![ì„ íƒì¹¸ í­ ë³€ê²½í•˜ê¸°](/static/images/resizable-columns.gif)

> ì‹œë‚˜ë¦¬ì˜¤

```feature
Scenario: ì„ íƒì¹¸ì˜ ê°€ë¡œ ê¸¸ì´ë¥¼ ë§ˆìŒëŒ€ë¡œ ëŠ˜ë¦¬ê±°ë‚˜ ì¤„ì¼ ìˆ˜ ìˆë‹¤
  Given ì„ íƒì¹¸ì„ ë Œë”í•˜ê³ 
  When ì›í•˜ëŠ” ì¹¸ì„ ì„ íƒí•´ì„œ ì¡ì•„ë‹¹ê¸°ë©´
  Then ì„ íƒì¹¸ì„ ì¤„ì´ê±°ë‚˜ ëŠ˜ì¼ ìˆ˜ ìˆë‹¤
```

---

## 1-1. ë¼ì´ë¸ŒëŸ¬ë¦¬ë¥¼ ì“°ëŠ” ë°©ë²•

ë¼ì´ë¸ŒëŸ¬ë¦¬ë¥¼ ì“°ëŠ” ë°©ë²•ì€ í¬ê²Œ ë‘ ê°€ì§€ê°€ ìˆë‹¤.

> 1.  ì»´í¬ë„ŒíŠ¸ë¡œ ì“°ëŠ” ê²ƒ ì˜ˆ) Radix
> 2.  í›…ì²˜ëŸ¼ Propsë“¤ì„ ê°€ì§€ê³  ì“°ëŠ” ê²ƒ ì˜ˆ) React table<br />
>     ; paginationë„ ì‰½ê²Œ ì§€ì›í•  ìˆ˜ ìˆê³  ì»¤ìŠ¤í…€ ë””ìì¸ì— ë§ì¶° ë„£ì„ ìˆ˜ ìˆë‹¤.

ì˜¤ëŠ˜ì€ `React table`ì„ ì‚¬ìš©í•´ë³´ë ¤ê³  í•œë‹¤.

---

## 1-2. react table - column resizing

[ë¦¬ì•¡íŠ¸ í…Œì´ë¸” - ì»¬ëŸ¼ ë¦¬ì‚¬ì´ì§• ì‚¬ì´íŠ¸](https://react-table-v7.tanstack.com/docs/examples/column-resizing)

ì‚¬ì´íŠ¸ì—ì„œ ë³¼ ìˆ˜ ìˆë“¯ì´ `í—¤ë”`ë¥¼ ì›€ì§ì—¬ì„œ ì»¬ëŸ¼ì˜ ê°€ë¡œ í­ì„ ì¡°ì ˆí•  ìˆ˜ ìˆëŠ” ê¸°ëŠ¥ì´ë‹¤.

---

## 1-3. react table ì„¤ì¹˜

í„°ë¯¸ë„ì— ì•„ë˜ì²˜ëŸ¼ React-tableì„ ì„¤ì¹˜í•˜ê³ , <br />
`bun add react-table`<br />

ë§ëŠ” íƒ€ì…ë„ ì„¤ì¹˜í•´ì¤€ë‹¤.<br />
`bun add -d @types/react-table`

---

## 1-4. ë°ëª¨ ì½”ë“œ ì ìš©

ì¼ë‹¨ ì‚¬ì´íŠ¸ì— ìˆëŠ” ì½”ë“œë“¤ì„ ê°€ì ¸ì™€ì„œ ì ìš©í•´ë³¸ë‹¤.

```js
//ë¨¼ì € react-tableì—ì„œ ì“¸ ê²ƒë“¤ì„ importí•´ì¤€ë‹¤.
import { useTable, useBlockLayout, useResizeColumns } from 'react-table'

function Table({ columns, data }) {
  //ê¸°ë³¸ columnì˜ í¬ê¸°ë¥¼ ì§€ì •í•´ì£¼ëŠ” ê³³. ë‚˜ì¤‘ì— ì´ê±¸ ë°”ê¾¸ê³  ì‹¶ì—ˆì§€ë§Œ ì•„ì§ ì–´ë–»ê²Œ ë°”ê¿€ì§€ ëª¨ë¥´ê² ë‹¤.
  const defaultColumn = React.useMemo(
    () => ({
      minWidth: 30,
      width: 150,
      maxWidth: 400,
    }),
    []
  )
```

```js
//ìš°ë¦¬ê°€ í•„ìš”í•œ ë¶€ë¶„ì€ getTableProps,headerGroups,rows,prepareRowì´ë‹¤.
//ì²˜ìŒì—” getTableBodyPropsë¥¼ ë‘ê³  headerGroupsë¥¼ ì—†ì•´ëŠ”ë°, columnì˜ ê°€ë¡œ í­ì„ ì¡°ì ˆí•˜ëŠ” ê²ƒì´
//header ë¶€ë¶„ì—ì„œ ê°€ëŠ¥í•œ ê±¸ ì•Œê³  headerGroupsë¥¼ ë†”ë‘ê¸°ë¡œ í–ˆë‹¤.
const {
  getTableProps,
  getTableBodyProps,
  headerGroups,
  rows,
  prepareRow,
  state,
  resetResizing,
} = useTable(
  {
    columns,
    // ì—¬ê¸°ì˜ columnë“¤ì´ ìš°ë¦¬ê°€ ë°”ê¿€ ê°€ë¡œí­ë“¤ì„ ì§€ì¹­í•œë‹¤.
    data,
    // ì—¬ê¸°ì˜ dataê°€ ê° columnì— ë“¤ì–´ê°€ëŠ” ì»¬ëŸ¬ ì½”ë“œ ê°’ë“¤ì„ ì˜ë¯¸í•œë‹¤.
    defaultColumn,
  },
  useBlockLayout,
  useResizeColumns
)
```

ì´ ì•„ë˜ ë¶€ë¶„ì€ ë°ëª¨ ì½”ë“œì™€ Pallete.tsxì™€ ì¢€ ë§ì´ ë‹¤ë¥´ë‹¤.

```js
return (
  <>
    <button onClick={resetResizing}>Reset Resizing</button>
    <div>
      <div {...getTableProps()} className="table">
        <div>
          {headerGroups.map((headerGroup) => (
            <div {...headerGroup.getHeaderGroupProps()} className="tr">
              {headerGroup.headers.map((column) => (
                <div {...column.getHeaderProps()} className="th">
                  {column.render('Header')}
                  {/* Use column.getResizerProps to hook up the events correctly */}
                  <div
                    {...column.getResizerProps()}
                    className={`resizer ${column.isResizing ? 'isResizing' : ''}`}
                  />
                </div>
              ))}
            </div>
          ))}
        </div>

        <div {...getTableBodyProps()}>
          {rows.map((row, i) => {
            prepareRow(row)
            return (
              <div {...row.getRowProps()} className="tr">
                {row.cells.map((cell) => {
                  return (
                    <div {...cell.getCellProps()} className="td">
                      {cell.render('Cell')}
                    </div>
                  )
                })}
              </div>
            )
          })}
        </div>
      </div>
    </div>
    <pre>
      <code>{JSON.stringify(state, null, 2)}</code>
    </pre>
  </>
)
}
```

---

## 1-5. palleteì— ë§ê²Œ ì ìš©

ë‚˜ëŠ” ì´ë¯¸ íŒ”ë ˆíŠ¸ì˜ í…Œì´ë¸”ì´ ìˆê¸° ë•Œë¬¸ì—,<br/>
ê·¸ ê°’ì„ ì´ìš©í•´ì„œ ë°°ì—´ì„ ê°ì²´ë¡œ ë§Œë“¤ê³ , ë‹¤ì‹œ ê·¸ ê°ì²´ë¥¼ ë°°ì—´ì— ì§‘ì–´ë„£ì—ˆë‹¤.

```js
function App() {
  const columns = React.useMemo(
    () => [
      {
        Header: 'Name',
        columns: [
          {
            Header: 'First Name',
            accessor: 'firstName',
          },
          {
            Header: 'Last Name',
            accessor: 'lastName',
          },
        ],
      },
      {
        Header: 'Info',
        columns: [
          {
            Header: 'Age',
            accessor: 'age',
            width: 50,
          },
          {
            Header: 'Visits',
            accessor: 'visits',
            width: 60,
          },
          {
            Header: 'Status',
            accessor: 'status',
          },
          {
            Header: 'Profile Progress',
            accessor: 'progress',
          },
        ],
      },
    ],
    []
  )

  const data = React.useMemo(() => makeData(10), [])

  return (
    <Styles>
      <Table columns={columns} data={data} />
    </Styles>
  )
}

export default App
```

![boxcount ë°°ì—´](/static/images/boxcount-array.png){: width="300" }

```tsx
const columns = Array.from({ length: BOX_COUNT }, (_, i) => {
  return {
    Header: `Column ${i}`,
    accessor: i.toString(),
  }
})
console.log(columns)
```

ì´ëŸ°ì‹ìœ¼ë¡œ ë°•ìŠ¤ ì¹´ìš´íŠ¸ì˜ ê¸¸ì´ë¥¼ ë°°ì—´ë¡œ ê°€ì ¸ì™€ì„œ ì¸ë±ìŠ¤ ê°’ì„ ê°€ì ¸ì™€, í—¤ë”ì™€ ì•¡ì„¸ì„œì— ë„£ì–´ì¤€ë‹¤.

ê·¸ë¦¬ê³  dataê°™ì€ ê²½ìš°

![entries,row](/static/images/entries_row.png){: width="300" }

```tsx
// ì´ ëª¨ì–‘ì„ ì–´ë–»ê²Œ dataì— ë§ê²Œ ë³€í˜•í• ê¹Œ? mapê³¼ fromEntriesë¥¼ í™œìš©í–ˆë‹¤
// input: colors ["#ffffff","#ffffff","#ffffff","#ffffff", ...,"#ffffff"]

const entries = colors.map((v, i) => [i.toString(), v])
console.log('entries', entries)

const row = Object.fromEntries(entries)
console.log('row', row)
```

![row array](/static/images/row_array.png){: width="300" }

ìƒ‰ë“¤ì„ `map`í•¨ìˆ˜ë¥¼ ì´ìš©í•´ ì¸ë±ìŠ¤ì™€ ì»¬ëŸ¬ ì½”ë“œë¥¼ ì§ë§ì¶”ì–´ ë°°ì—´ë¡œ ë§Œë“¤ì–´ì£¼ê³ ,<br/>
`row`ë¼ëŠ” ë³€ìˆ˜ì— `fromEntries`í•¨ìˆ˜ë¥¼ ì¨ì„œ ë‹¤ì‹œ ê°ì²´ë¡œ ë§Œë“¤ì–´ì£¼ì—ˆë‹¤.

```tsx
const {
  getTableProps,
  headerGroups,
  rows,
  prepareRow,
  // getTableBodyProps,
  // state,
  // resetResizing,
} = useTable(
  {
    columns,
    data: [row],
    defaultColumn,
  },
  useBlockLayout,
  useResizeColumns
)
```

ì—¬ê¸°ì— ë‹¤ì‹œ ë°°ì—´ì•ˆì— `row`ë¥¼ ë„£ì–´ ê°ì²´ë¥¼ ë°°ì—´ë¡œ ë§Œë“¤ì–´ì„œ ë„£ì–´ì£¼ì—ˆë‹¤.

```tsx
return (
    <Tooltip.Provider delayDuration={800} skipDelayDuration={500}>
      <input type="text" name="colors" value={JSON.stringify(colors)} hidden />
      <table
        className="selectedContainer flex flex-col max-w-full"
        {...getTableProps()}
      >
        {/* 2ë²ˆ - mapì„ ì¨ì„œ ë°°ì—´ì˜ ê°’ì„ í™”ë©´ì— ë¿Œë ¤ì¤€ë‹¤. */}
        {/* https://beta.reactjs.org/learn/rendering-lists */}
        <thead>
          {headerGroups.map((headerGroup) => (
            <tr {...headerGroup.getHeaderGroupProps()}>
              {headerGroup.headers.map((column) => (
                <th {...column.getHeaderProps()}>
                  {column.id}
                  <div
                    {...(column as any).getResizerProps()}
                    className={`resizer ${
                      (column as any).isResizing ? "isResizing" : ""
                    }`}
                  />
                </th>
              ))}
            </tr>
          ))}
        </thead>
        <tbody className="flex flex-row">
          {rows.map((row) => {
            prepareRow(row);
            return (
              <tr {...row.getRowProps()}>
                {row.cells.map((cell) => {
                  return (
                    <td
                      {...cell.getCellProps()}
                      onClick={() => deleteSelected(parseInt(cell.column.id))}
                      style={{
                        backgroundColor: cell.value,
                        width: cell.column.width,
                      }}
                    >
                      {cell.value}
                    </td>
                  );
                })}
              </tr>
            );
          })}
        </tbody>
      </table>
```

ìœ„ì˜ ì½”ë“œëŠ” ë‚˜ì—ê²Œ ë§ê²Œ ë°”ë€ ë¶€ë¶„ì¸ë°

ì¼ë‹¨

```tsx
<table
        className="selectedContainer flex flex-col max-w-full"
        {...getTableProps()}
      >
```

ì—¬ê¸°ì„œ `role`ëŒ€ì‹  `{...getTableProps()}`ë¥¼ ë„£ì–´ì£¼ì—ˆë‹¤.<br/>
ê·¸ ì´ìœ ëŠ” ì§€ê¸ˆì€ `props`ê°€ í•˜ë‚˜ì´ì§€ë§Œ ë‚˜ì¤‘ì—ëŠ” ì—¬ëŸ¬ê°œë¥¼ ë°›ì„ ìˆ˜ ìˆê¸° ë•Œë¬¸ì´ë‹¤.

ê·¸ë¦¬ê³  `thead`ì•ˆì— `headerGroups`ë¥¼ ë„£ì–´ì„œ ì»¬ëŸ¼ì˜ í­ì„ ì¡°ì •í•  ìˆ˜ ìˆë„ë¡ ì¡°ì •ê°€ëŠ¥í•œ ì»¬ëŸ¼ì„ ë‚˜ì—´í•œë‹¤.

```tsx
<thead>
  //headerGroupì€ headerGroupì„ mapì„ í•˜ëŠ”ë°
  {headerGroups.map((headerGroup) => (
    //trì— getHeaderGroupPropsë¥¼ ë‚˜ì—´í•œë‹¤.
    <tr {...headerGroup.getHeaderGroupProps()}>
      //headerGroup.headersì€ columnì„ mapìœ¼ë¡œ ë‚˜ì—´í•˜ëŠ”ë°
      {headerGroup.headers.map((column) => (
        //thì— columnì˜ getHeaderPropsë¥¼ ë‚˜ì—´í•´ ë„£ì–´ì¤€ë‹¤.
        <th {...column.getHeaderProps()}>
          //column.idëŠ” ì»¬ëŸ¼ì˜ ì¸ë±ìŠ¤ê°’ìœ¼ë¡œ ì´ ê°’ì„ ê°ì²´ë¡œ ë„£ì–´ì£¼ì–´ ë‚˜ì—´í•œë‹¤.
          {column.id}
          //ì´ divì€ getResizerPropsí•¨ìˆ˜ë¥¼ í†µí•œ ê°’ì„ ë‚˜ì—´í•˜ëŠ”ë°, ì•„ë§ˆë„ ë¦¬ì‚¬ì´ì§•í•œ ê°’ì„ ë‚˜ì—´í•´ì£¼ëŠ”
          ê²ƒ ê°™ë‹¤.
          <div
            {...(column as any).getResizerProps()}
            className={`resizer ${(column as any).isResizing ? 'isResizing' : ''}`}
          />
        </th>
      ))}
    </tr>
  ))}
</thead>
```

`tbody`ì—ëŠ”

```tsx
<tbody className="flex flex-row">
  //rowsë¥¼ mapìœ¼ë¡œ ë‚˜ì—´í•´ì£¼ëŠ”ë°
  {rows.map((row) => {
    //ì¼ë‹¨ ì´ˆê¸°ìƒíƒœì˜ rowë¥¼ prepareRowë¡œ returní•´ì£¼ê³ 
    prepareRow(row)
    return (
      //ìƒ‰ê¹”ì„ ì„ íƒí•´ì„œ ê°’ì´ ë°”ë€Œë©´ getRowPropsì˜ ê°’ì„ ë‚˜ì—´í•´ì£¼ëŠ” ê±° ê°™ë‹¤.
      <tr {...row.getRowProps()}>
        {row.cells.map((cell) => {
          return (
            <td
              {...cell.getCellProps()}
              //ë§Œì•½ ì´ë¯¸ ì„ íƒëœ ìƒ‰ì„ ì§€ìš°ë ¤ê³  í•˜ë©´ í•´ë‹¹ ì¹¸ì˜ idì¸ indexë¥¼ stringì—ì„œ intë¡œ ë°”ê¾¸ì–´ ì‚­ì œí•´ì¤€ë‹¤.
              onClick={() => deleteSelected(parseInt(cell.column.id))}
              style={{
                //ìŠ¤íƒ€ì¼ì— ë°°ê²½ì—ëŠ” ì„ íƒí•œ cellì˜ ìƒ‰ì¸ valueë¥¼ ë„£ì–´ì£¼ê³ 
                //widthì—ëŠ” headerì—ì„œ ë‚´ë ¤ì˜¨ columnì˜ widthê°€ ë™ì¼í•˜ê²Œ ì ìš©ë˜ë„ë¡ í•œë‹¤.
                backgroundColor: cell.value,
                width: cell.column.width,
              }}
            >
              //ì„ íƒëœ ìƒ‰ê¹” ì¹¸ì—ëŠ” í•´ë‹¹ ìƒ‰ ì½”ë“œë„ stringìœ¼ë¡œ ë‚˜íƒ€ë‚´ì–´ì¤€ë‹¤.
              {cell.value}
            </td>
          )
        })}
      </tr>
    )
  })}
</tbody>
```

ì´ëŸ° ì‹ìœ¼ë¡œ ë¼ì´ë¸ŒëŸ¬ë¦¬ì—ì„œ ì‚¬ìš©í•œ `Props`ë“¤ì„<br/>
ë‚˜ì˜ ê²½ìš°ì— ë§ì¶”ì–´ ë³€í˜•í•˜ê³ ,<br/>
ë³€í˜•í•œ ê°ì²´ë“¤ì„ ì•Œë§ê²Œ ë„£ì–´ì£¼ë ¤ê³  ë…¸ë ¥í–ˆë‹¤.

ì•„ì§ `get~~~Props`ì˜ ì—­í• ì„ ì •í™•íˆ ì´í•´í•˜ì§€ëŠ” ëª»í•œ ê²ƒ ê°™ì•„ì„œ<br/>
ëª‡ë²ˆ ë” ì½ê³  ë¶„ì„í•´ë³´ë©´ì„œ ì´í•´í•´ì•¼ê² ë‹¤.

ê·¸ë¦¬ê³  ë¼ì´ë¸ŒëŸ¬ë¦¬ë¥¼ ì‚¬ìš©í•˜ë‹ˆê¹Œ ì´ë¯¸ ì •í•´ë‘” í­ ì´ì™¸ì— ì •ë ¬ì´ë‚˜ ìµœëŒ€ í­ í¬ê¸°ë¥¼ ë§ˆìŒëŒ€ë¡œ<br/>
ì •í•˜ëŠ” ë° ì–´ë ¤ìš´ ë¶€ë¶„ì´ ìˆì–´ì„œ, ì´ë¶€ë¶„ì€ í›„ì— íŒ”ë ˆíŠ¸ë¥¼ pure cssë¡œ êµ¬í˜„í•´ì„œ ë‹¤ì‹œ `react-table`ì„ ì…í˜€ë³´ë©´ì„œ<br/>
ì¢€ ë” ì •í™•íˆ ì½”ë“œë¥¼ ì§œë´ì•¼í•  ê²ƒ ê°™ë‹¤.
